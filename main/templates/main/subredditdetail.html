{% extends 'base.html' %}
{% load static %}
{% load main_tags %}


{% block title %}
    {{subreddit.name}} - Reddit CLone
{% endblock title %}

{% block statics %}
    <link rel="stylesheet" type="text/css" href="{% static 'css/subreddit-detail.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'css/index.css' %}">
{% endblock statics %}


{% block current_location %}
    <img class="nav-location-svg" src="{{ subreddit.image.url }}" alt="{{subreddit.name}} logo">
    <h2 class="nav-currentLocation">
        r/{{subreddit.name}}
    </h2>
{% endblock current_location %}


{% block content %}
    <main>
        <div class="subreddit-header">
            <div class="subreddit-header-background"></div>
            <div class="subreddit-header-toolbar">
                <img class="subreddit-header-img" src="{{ subreddit.image.url }}" alt="{{ subreddit.name }} logo">
                <h1 class="subreddit-header-toolbar-title">r/{{ subreddit.name }}</h1>

                {% if user.is_authenticated and subreddit|check_join:request.user %}
                <button class="subreddit-btn joined sjoin" data-sub-id="{{ subreddit.id }}">JOINED</button>
                {% else %}
                <button class="subreddit-btn join sjoin" data-sub-id="{{ subreddit.id }}">JOIN</button>
                {% endif %}
            </div>
        </div>
        <div class="main">
            <div class="post-list">
                <div class="create-post">
                    <input readonly type="text" placeholder="Create Post" class="create-post-input">
                </div>
                {% comment %} POSTS {% endcomment %}
                {% for item in posts %}
                    {% include 'base/post-element.html' %}
                {% endfor %}
                {% comment %} PAGINATION {% endcomment %}
                {% include 'base/pagination-element.html' %}
            </div>

            <aside class="sidebar">
                <div class="sidebar-box">
                    <h2 class="sidebar-title" style="padding-bottom: 24px;">
                        About Community
                    </h2>
                    {{ subreddit.description }}

                    <div>
                        <h2 class="subreddit-members">{{ subreddit.members_count }}</h2>
                        <p class="subreddit-members-p">
                            Members
                        </p>
                        <div>
                            <p style="font-size: 14px;">
                                <span class="cake-svg">
                                    <svg viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg" fill="currentColor" style="height: 100%;"><path d="M37.5 22.5V20h-35v15c0 1.4 1.1 2.5 2.5 2.5h30c1.4 0 2.5-1.1 2.5-2.5H6.2c-.6 0-1.2-.5-1.2-1.2s.6-1.2 1.2-1.2h31.3V30H6.2c-.6 0-1.2-.5-1.2-1.2s.6-1.2 1.2-1.2h31.3V25H6.2c-.6 0-1.2-.5-1.2-1.2s.6-1.2 1.2-1.2h31.3zM22.5 6c0 1.4-1.1 2.5-2.5 2.5S17.5 7.4 17.5 6 20 0 20 0s2.5 4.6 2.5 6zM20 15c-.7 0-1.3-.6-1.3-1.2v-2.5c0-.7.6-1.2 1.2-1.2.7 0 1.2.6 1.2 1.2v2.5c.1.7-.4 1.2-1.1 1.2z"></path><path d="M22.8 11.3v2.3a3 3 0 01-2.5 2.9c-1.6.2-3-1.1-3-2.7v-5-.1l-.8-.4c-.9-.4-2-.3-2.7.4L2.5 18.5h35l-14.7-7.2z"></path></svg>
                                </span>
                                Created
                                {{subreddit.creation_data|date:"M d, Y"}}
                                <a href="{% url 'main:create-post-in' subreddit.name %}">
                                    <button class="subreddit-create-postbtn">CREATE POST</button>
                                </a>
                            </p>
                        </div>
                    </div>

                </div>
            </aside>
        </div>
    </main>

{% endblock content %}